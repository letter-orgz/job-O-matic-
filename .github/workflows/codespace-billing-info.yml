name: Organization Codespace Configuration & Billing Check

on:
  workflow_dispatch:
    inputs:
      admin_confirmation:
        description: 'Confirm you are an organization admin running this check'
        required: true
        default: 'yes'
        type: choice
        options:
        - 'yes'
        - 'no'

jobs:
  codespace-billing-check:
    runs-on: ubuntu-latest
    if: github.event.inputs.admin_confirmation == 'yes'
    steps:
      - name: Display Codespace Billing Resolution Information
        run: |
          echo "==============================================="
          echo "üö® URGENT: v4mpire77 Billing Issue Resolution"
          echo "==============================================="
          echo ""
          echo "Repository: letter-orgz/job-O-matic-"
          echo "Organization: letter-orgz"
          echo "Issue: v4mpire77 being charged personally"
          echo ""
          echo "‚ö° IMMEDIATE ADMIN ACTIONS REQUIRED:"
          echo ""
          echo "1. Enable Organization Codespaces Billing (5 min):"
          echo "   ‚Üí https://github.com/organizations/letter-orgz/settings/billing"
          echo "   ‚Üí Set Codespaces spending limits"
          echo ""
          echo "2. Configure Codespaces Policies (3 min):"
          echo "   ‚Üí https://github.com/organizations/letter-orgz/settings/codespaces"
          echo "   ‚Üí Enable 'Allow for organization repositories'"
          echo "   ‚Üí Set billing to organization account"
          echo ""
          echo "3. Verify v4mpire77 Access (2 min):"
          echo "   ‚Üí https://github.com/orgs/letter-orgz/people"
          echo "   ‚Üí Confirm v4mpire77 is organization member"
          echo ""
          echo "4. Test Resolution (5 min):"
          echo "   ‚Üí Ask v4mpire77 to delete existing Codespaces"
          echo "   ‚Üí Follow .github/BILLING_RESOLUTION_GUIDE.md"
          echo "   ‚Üí Verify billing shows 'letter-orgz' before creation"
          echo ""
          echo "üìñ Detailed guides available:"
          echo "   ‚Üí Admin actions: .github/ADMIN_ACTION_ITEMS.md"
          echo "   ‚Üí User guide: .github/BILLING_RESOLUTION_GUIDE.md"
          echo "   ‚Üí Full docs: .github/CODESPACES_BILLING.md"
          echo ""
          echo "üìû After completing setup:"
          echo "   ‚Üí Notify v4mpire77 settings are complete"
          echo "   ‚Üí Monitor organization billing for charges"
          echo "   ‚Üí Update issue when resolved"
          echo ""
          echo "==============================================="
          echo "‚è±Ô∏è  Estimated total resolution time: 15 minutes"
          echo "==============================================="